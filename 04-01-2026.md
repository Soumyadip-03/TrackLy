# TrackLy Attendance System - Complete User Guide
**Date:** January 6, 2025  
**Documentation Version:** 1.0

---

## Table of Contents
1. [Prerequisites - Schedule Setup](#1-prerequisites---schedule-setup)
2. [Recording Attendance - Manual Methods](#2-recording-attendance---manual-methods)
3. [Automatic Attendance System](#3-automatic-attendance-system)
4. [Attendance Calculator](#4-attendance-calculator)
5. [Target Attendance Calculator](#5-target-attendance-calculator)
6. [Auto-Marked Attendance View](#6-auto-marked-attendance-view)
7. [Additional Features](#7-additional-features)

---

## 1. Prerequisites - Schedule Setup

### **Before recording attendance, you MUST upload your class schedule.**

### Step 1.1: Navigate to Schedule Manager
```
Sidebar â†’ Profile/Settings â†’ Schedule Manager
```

### Step 1.2: Add Classes Manually

**For Each Day of the Week:**

1. **Select Day Tab**
   - Click on day tab (Mon, Tue, Wed, Thu, Fri, Sat, Sun)
   - See class count badge on each tab

2. **Click "Add Class" Button**

3. **Fill Class Details:**
   - **Subject:** Select from dropdown or add custom
   - **Class Type:** Lecture/Lab/Tutorial/Seminar/Workshop/Sports/Yoga/Break
   - **Start Time:** Use time picker (e.g., 09:00)
   - **End Time:** Use time picker (e.g., 10:00)
   - **Building-Room:** Enter location (e.g., 4-101)

4. **Click "Add Class"**

5. **Repeat for All Classes**

### Step 1.3: Mark Off Days (Optional)
- Check "Mark as off day" for days with no classes
- System will show "Off Day" message for those days

### Step 1.4: Upload to Subjects Database
- Click "Upload to Subjects" button at bottom
- Automatically creates subject entries from schedule
- Updates class counts per week

### Example Schedule Entry:
```
Day: Monday
Subject: Mathematics
Class Type: Lecture
Start Time: 09:00
End Time: 10:00
Room: 4-101
```

---

## 2. Recording Attendance - Manual Methods

### **After schedule is uploaded, you have 4 methods to record attendance:**

---

### Method A: Visual Calendar Method (Recommended) ğŸ“…

**Step-by-Step:**

1. **Navigate to Attendance Page**
   ```
   Sidebar â†’ Attendance â†’ Record Attendance Tab
   ```

2. **Select Date**
   - Calendar shows today by default
   - Click any date to change
   - System automatically loads classes for that day

3. **View Classes**
   - All classes for selected day appear as cards
   - Each card shows:
     - Class name
     - Class type badge
     - Time slot
     - Room location
     - Current status (if marked)

4. **Select a Class**
   - Click on any class card
   - Card gets highlighted with blue ring
   - Selected class name appears at bottom

5. **Choose Status**
   - Click "Present" button (turns green)
   - OR Click "Absent" button (turns red)

6. **Record Attendance**
   - Click "Record Attendance" button
   - Card changes color:
     - **Green** = Present
     - **Red** = Absent
     - **Blue** = Auto-marked
   - Toast notification confirms save

7. **Repeat for Other Classes**

**Visual Indicators:**
- Gray card = Not marked yet
- Green card = Marked present
- Red card = Marked absent
- Blue card = Auto-marked present

---

### Method B: Bulk Marking (Quick Actions) âš¡

**For marking all classes at once:**

1. **Navigate to Attendance Page**

2. **Select Date**

3. **Click Quick Action Button:**
   - **"Mark All Present"** â†’ All classes marked present instantly
   - **"Mark All Absent"** â†’ All classes marked absent instantly

4. **Confirmation**
   - All cards change color immediately
   - Toast shows: "All 5 classes marked as present"
   - Undo option available for "Mark All Absent"

**Use Case:** Perfect for days when you attended all classes or were completely absent.

---

### Method C: Direct Click Toggle (Advanced)

**Quick toggle by clicking cards:**

1. **Select Date**
2. **Click Class Card** â†’ Marks Present (Green)
3. **Click Same Card Again** â†’ Marks Absent (Red)
4. **Click Third Time** â†’ Resets (Gray)

**Note:** Currently requires selecting class + status button + record button.

---

### Method D: With Notes ğŸ“

**For adding context to attendance:**

1. **Follow Method A (Steps 1-5)**

2. **Scroll to Notes Section**

3. **Type Notes** (Optional)
   - Example: "Late by 10 minutes"
   - Example: "Medical emergency"

4. **Click "Record Attendance"**

5. **Notes Saved with Record**
   - Visible in history
   - Visible in auto-marked tab

---

## 3. Automatic Attendance System

### **How Auto-Marking Works:**

The system has a **partially implemented** auto-marking feature that marks past classes as present.

### Current Implementation:

**Trigger Points:**
1. When component loads
2. Every 10 minutes (background interval)
3. When viewing past dates

**Logic:**
```
IF selected_date < today AND class has no attendance record
THEN mark as "present" with isAutoGenerated = true
```

**What Gets Auto-Marked:**
- âœ… Past dates with unmarked classes
- âœ… Only classes without existing records
- âœ… Excludes break periods
- âŒ Does NOT auto-mark today's classes at midnight (not implemented)

### Visual Indication:

**Auto-marked classes show:**
- Blue background color
- "Auto-Present" badge
- Clock icon with "Auto" label
- Tooltip: "Automatically marked as present because this is a past class"
- Note: "Automatically marked as present at end of day"

### How to View Auto-Marked Records:

1. **Navigate to Auto-Marked Tab**
   ```
   Attendance â†’ Auto-Marked Tab
   ```

2. **Filter Options:**
   - **All Classes** - Complete list
   - **Today** - Today's auto-marked only
   - **Last 7 Days** - Recent week
   - **By Class** - Grouped by subject

3. **Statistics Dashboard Shows:**
   - Total auto-marked count
   - End of day auto count
   - System auto count

### Important Notes:

âš ï¸ **Current Limitations:**
- Only saves to localStorage (not synced to database)
- Only works when viewing past dates
- No real-time end-of-day trigger
- Dependency tracking issues

âœ… **What Works:**
- Visual indication (blue cards)
- Manual trigger when viewing past dates
- Toast notifications
- Auto-marked flag tracking

---

## 4. Attendance Calculator

### **Purpose:** Calculate how many classes to attend/skip to reach target percentage.

### Location:
```
Attendance â†’ Attendance Calculator Tab (Left Side)
```

### Step-by-Step Usage:

#### Step 1: Enter Current Statistics

**Input Fields:**

1. **Total Classes Held**
   - Enter total number of classes conducted so far
   - Example: 50

2. **Classes Attended**
   - Enter how many you attended
   - Example: 40

3. **Target Attendance %**
   - Enter desired percentage
   - Example: 75

#### Step 2: View Results

**Calculator Shows:**

1. **Current Attendance Percentage**
   - Calculated as: (Attended / Total) Ã— 100
   - Example: (40/50) Ã— 100 = 80%

2. **Status Badge**
   - Green "Above Target" if current > target
   - Red "Below Target" if current < target
   - Blue "On Target" if current = target

3. **Classes to Attend**
   - Shows how many consecutive classes needed to reach target
   - Example: "You need to attend 0 more classes"

4. **Classes You Can Skip**
   - Shows how many you can miss while maintaining target
   - Example: "You can skip 6 classes"

5. **Projected Percentage**
   - Shows percentage after attending/skipping
   - Updates in real-time

### Calculation Logic:

**Current Percentage:**
```
current_percentage = (classes_attended / total_classes) Ã— 100
```

**Classes to Attend (if below target):**
```
classes_needed = ceil((target% Ã— total - attended) / (1 - target%))
```

**Classes Can Skip (if above target):**
```
can_skip = floor((attended - target% Ã— total) / target%)
```

### Example Scenario:

**Input:**
- Total Classes: 50
- Attended: 40
- Target: 75%

**Output:**
- Current: 80%
- Status: Above Target âœ…
- Can Skip: 6 classes
- After Skipping: 75.9%

**Interpretation:** You're doing well! You can miss 6 more classes and still maintain 75% attendance.

---

## 5. Target Attendance Calculator

### **Purpose:** Plan future attendance to reach specific goals.

### Location:
```
Attendance â†’ Attendance Calculator Tab (Right Side)
```

### Step-by-Step Usage:

#### Step 1: Enter Current Data

1. **Current Attendance %**
   - Your current percentage
   - Example: 70%

2. **Total Classes So Far**
   - Classes conducted till now
   - Example: 50

3. **Target Attendance %**
   - Desired percentage
   - Example: 80%

4. **Future Classes**
   - Expected upcoming classes
   - Example: 20

#### Step 2: View Projections

**Calculator Shows:**

1. **Classes Currently Attended**
   - Calculated from current % and total
   - Example: 35 classes

2. **Required Attendance Rate**
   - Percentage of future classes to attend
   - Example: "Attend 87.5% of next 20 classes"

3. **Classes to Attend**
   - Exact number needed
   - Example: "Attend 18 out of 20 classes"

4. **Classes Can Miss**
   - How many you can skip
   - Example: "Can miss 2 classes"

5. **Final Percentage**
   - Projected percentage after future classes
   - Example: "Final: 80.0%"

### Calculation Logic:

**Currently Attended:**
```
attended = (current% Ã— total) / 100
```

**Required to Attend:**
```
need_to_attend = ceil((target% Ã— (total + future) - attended))
```

**Can Miss:**
```
can_miss = future - need_to_attend
```

**Final Percentage:**
```
final% = ((attended + need_to_attend) / (total + future)) Ã— 100
```

### Example Scenario:

**Input:**
- Current: 70%
- Total So Far: 50
- Target: 80%
- Future Classes: 20

**Output:**
- Currently Attended: 35
- Need to Attend: 18/20 (90%)
- Can Miss: 2 classes
- Final: 80.0%

**Interpretation:** To reach 80%, you must attend 18 out of the next 20 classes. You can only miss 2.

---

## 6. Auto-Marked Attendance View

### **Purpose:** Audit trail for automatically marked attendance.

### Location:
```
Attendance â†’ Auto-Marked Tab
```

### Features:

#### Statistics Dashboard (Top)

**Three Cards:**
1. **Total Auto-marked** - All auto-marked records
2. **End of Day Auto** - Classes marked at day end
3. **System Auto** - Other system-generated marks

#### Filter Tabs:

**Tab 1: All Classes**
- Complete chronological list
- Sorted newest to oldest
- Shows all auto-marked records

**Tab 2: Today**
- Only today's auto-marked classes
- Badge shows count
- Empty state if none

**Tab 3: Last 7 Days**
- Past week's records
- Useful for weekly review
- Date-filtered view

**Tab 4: By Class**
- Grouped by subject/class name
- Accordion interface
- Shows count per class
- Expandable to see details

### Record Card Information:

Each record displays:
- **Class Name** - Subject/class title
- **Date** - Formatted date (e.g., "Mon, January 6, 2025")
- **Reason Badge** - Why it was auto-marked:
  - Blue: "End of day auto-marking"
  - Green: "Auto-marked (past class)"
  - Purple: "System auto-marked"
- **Class Type** - Lecture/Lab/Tutorial
- **Time Slot** - Class timing
- **Room** - Location
- **Notes** - Auto-generated note

### Use Cases:

1. **Verify Accuracy** - Check if auto-marking is correct
2. **Audit Trail** - See which classes were auto-marked
3. **Pattern Analysis** - Identify frequently auto-marked classes
4. **Transparency** - Understand system behavior

---

## 7. Additional Features

### 7.1 Break Notifications

**Purpose:** Get reminded before break times.

**Setup:**

1. **Navigate to Record Attendance**
2. **Select Today's Date**
3. **Scroll to "Break Notifications" Section**

**Options:**

**Browser Notifications:**
- Toggle: Enable/Disable
- Timing: 15 minutes before break
- Type: Native OS popup
- Requires: Browser permission

**Email Notifications:**
- Toggle: Enable/Disable
- Input: Email address
- Click: "Save" button
- Timing: 15 minutes before break

**What You Get:**
- Break name
- Time slot
- Room location
- Advance warning

---

### 7.2 Email Notification Preferences

**Location:** Record Attendance â†’ Email Notifications Section

**Available Options:**

1. **Daily Class Reminders**
   - Get reminders about upcoming classes
   - Sent for future dates

2. **Break Reminders**
   - Alerts before break times
   - 15-minute advance notice

3. **Low Attendance Alerts**
   - Warnings when attendance drops below threshold
   - Helps maintain target percentage

4. **Daily Summary**
   - End-of-day attendance report
   - Summary of marked/unmarked classes

5. **Upcoming Deadlines**
   - Task and assignment reminders
   - Integrated with todo system

**Setup:**
1. Toggle each preference on/off
2. Enter email address at bottom
3. Click "Save Email"
4. Preferences saved automatically

---

### 7.3 Attendance History & Logs

**Location:** History Page (Sidebar)

**Features:**
- View all past attendance records
- Filter by date range
- See attendance trends
- Export data (if implemented)

---

### 7.4 Dashboard Overview

**Location:** Dashboard (Home Page)

**Attendance Widgets:**

1. **Attendance Overview**
   - Overall percentage
   - Subject-wise breakdown
   - Visual graphs

2. **Today's Schedule**
   - Classes for today
   - Quick mark buttons
   - Time-based sorting

3. **Weekly Attendance Chart**
   - 7-day attendance pattern
   - Visual bar chart
   - Present/Absent counts

4. **Class-Specific Attendance**
   - Per-subject statistics
   - Percentage per class
   - Color-coded status

---

### 7.5 Schedule Management Features

**Edit Classes:**
1. Go to Schedule Manager
2. Click "Edit" on any class
3. Modify details inline
4. Click "Save"

**Copy Classes:**
1. Click "Copy" icon on class
2. Duplicates to next time slot
3. Automatically calculates new time
4. Useful for consecutive classes

**Delete Classes:**
1. Click "Delete" icon
2. Confirms removal
3. Updates schedule immediately

**Clear Schedule:**
1. Click "Clear Schedule" button
2. Confirm action
3. Removes all classes
4. Cannot be undone

---

## Complete User Workflow Example

### Scenario: New User Setting Up and Using TrackLy

#### Week 1: Setup

**Day 1 - Monday:**
1. Register account
2. Navigate to Schedule Manager
3. Add Monday classes:
   - Math (09:00-10:00, Lecture, 4-101)
   - Physics (10:00-11:00, Lab, 5-201)
   - Chemistry (11:00-12:00, Lecture, 4-102)
4. Repeat for Tuesday-Friday
5. Mark Saturday-Sunday as off days
6. Click "Upload to Subjects"

**Day 2 - Tuesday:**
1. Open Attendance page
2. See Monday's date (yesterday)
3. Notice classes auto-marked as present (blue cards)
4. Check Auto-Marked tab to verify
5. For today (Tuesday):
   - Click "Mark All Present"
   - Done in 1 click!

#### Week 2: Regular Usage

**Daily Routine:**
1. Open app in morning
2. Go to Attendance
3. Click "Mark All Present" (if attended all)
4. OR mark individually if missed any
5. Check dashboard for statistics

**End of Week:**
1. Go to Attendance Calculator
2. Enter current stats
3. See if on track for 75% target
4. Plan next week accordingly

#### Month End: Analysis

1. Check History page
2. Review attendance trends
3. Use Target Calculator for planning
4. Adjust attendance strategy

---

## Troubleshooting

### Issue 1: Classes Not Showing
**Solution:**
- Verify schedule is uploaded
- Check correct day is selected
- Ensure classes exist for that day
- Refresh page

### Issue 2: Auto-Marking Not Working
**Solution:**
- Only works for past dates
- Check if classes already marked
- View Auto-Marked tab to verify
- Note: Real-time auto-marking not fully implemented

### Issue 3: Attendance Not Saving
**Solution:**
- Check internet connection
- Verify localStorage not full
- Check browser console for errors
- Try manual refresh

### Issue 4: Calculator Showing Wrong Results
**Solution:**
- Verify input values are correct
- Check for decimal inputs
- Ensure total > attended
- Refresh calculator

---

## Best Practices

### For Accurate Tracking:

1. âœ… **Upload complete schedule first**
2. âœ… **Mark attendance daily**
3. âœ… **Use bulk marking when possible**
4. âœ… **Add notes for absences**
5. âœ… **Review auto-marked records weekly**
6. âœ… **Use calculators for planning**
7. âœ… **Enable email notifications**
8. âœ… **Check dashboard regularly**

### For Maintaining Target:

1. âœ… **Set realistic target (75-80%)**
2. âœ… **Use Target Calculator weekly**
3. âœ… **Plan absences in advance**
4. âœ… **Monitor low attendance alerts**
5. âœ… **Attend classes when below target**

---

## Feature Summary

| Feature | Status | Location |
|---------|--------|----------|
| Manual Schedule Entry | âœ… Working | Profile â†’ Schedule Manager |
| Visual Attendance Marking | âœ… Working | Attendance â†’ Record Tab |
| Bulk Marking | âœ… Working | Attendance â†’ Quick Actions |
| Auto-Marking | ğŸŸ¡ Partial | Background Process |
| Attendance Calculator | âœ… Working | Attendance â†’ Calculator Tab |
| Target Calculator | âœ… Working | Attendance â†’ Calculator Tab |
| Auto-Marked View | âœ… Working | Attendance â†’ Auto-Marked Tab |
| Break Notifications | âœ… Working | Record Attendance Page |
| Email Notifications | âœ… Working | Record Attendance Page |
| Dashboard Overview | âœ… Working | Dashboard Page |
| History & Logs | âœ… Working | History Page |

---

## Technical Notes

### Data Storage:
- **LocalStorage:** Immediate save, offline support
- **MongoDB:** Persistent storage via API
- **Dual-save strategy:** Both local and remote

### Data Sync:
- Automatic sync on save
- Event-driven updates
- Cross-component communication
- Offline queue (if implemented)

### Auto-Marking Limitations:
- âš ï¸ Only saves to localStorage currently
- âš ï¸ No database sync for auto-marked records
- âš ï¸ Dependency tracking issues
- âš ï¸ No real-time end-of-day trigger
- âš ï¸ Only works when viewing past dates

---

## Future Enhancements (Potential)

1. ğŸ”® Real-time auto-marking at midnight
2. ğŸ”® Database sync for auto-marked records
3. ğŸ”® PDF schedule upload
4. ğŸ”® Bulk edit schedule
5. ğŸ”® Export attendance reports
6. ğŸ”® Attendance analytics dashboard
7. ğŸ”® Mobile app integration
8. ğŸ”® Calendar integration
9. ğŸ”® Attendance predictions using AI
10. ğŸ”® Peer comparison (anonymous)

---

## Support & Feedback

For issues or suggestions:
- Check troubleshooting section
- Review best practices
- Contact support team
- Submit feedback via app

---

**Document End**

*Last Updated: January 4, 2026*  
*Version: 1.0*  
*System: TrackLy Attendance Management*